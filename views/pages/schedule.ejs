<!-- TODO: no time conflictions,  -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheets/scheduler.css">
    <!-- Title on browswer -->
    <title>MySchedule</title>

    <!-- Bootstrap Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- main stylesheet -->
    <link rel="stylesheet" href = "stylesheets/dashboard.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
</head>
<body>
<!-- Header Start -->
    <!-- p-3 gives padding of 1 em on all sides -->
    <!-- style="background-color: black"; -->
    <!-- position-absolute start-0 top-0 end-0 -->
    <header class="header p-3" style="background-color: rgb(136, 125, 125)">
        <!-- convert div to flexbox to use flexbox styles -->
        <div class="d-flex justify-content-between align-items-center">
            <!-- logo button on the top left -->
            <!-- redirects to the dashboard -->
            <a href="#" class="text-decoration-none text-white fs-5 fw-bold">SFUnited</a>

            <!-- Menu Button using Bootstrap SVG -->
            <button class = "navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle-navigation">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                </svg>
            </button>
        </div>
    </header>
    <!-- Header End -->



    <!-- Menu Bar Navigation Start -->
    <!-- navigation bar that becomes visible when menu button is hit  -->
    <nav class="collapse gitnavbar-collapse dropdown-nav" id="navbar">

        <!-- bootstrap container that creates centered dynamic grids using flexbox-->
        <!-- dropdown-nav__container is the style -->
        <!-- align items to start when on mobile, centered when larger -->
        <div class="dropdown-nav__container container-xxl d-flex align-items-start align-items-md-center">
            <!-- interactable menu  -->
            <div class="row align-items-start">
                <!-- Bootstrap class that ensures the column takes the full size of the screen -->
                <!-- Uses all 12 of the grids for small screens, 4 grids for larger-->
                <div class="col-12 col-sm-3 mt-3">
                    <!-- redirect to page (blank) -->
                    <a href="https://sfunited.herokuapp.com/schedule" class="row text-decoration-none" >

                        <!-- create a smaller column for mobile, slightly bigger for larger screens -->
                        <!-- also has bottom margi-->
                        <div class="col-2 col-sm-12 mb-4">
                            <!-- add an image, alternative text, and size of image, and image to render-->
                            <img src="img/schedule.jpg" alt="Scheduler Image" class="img-fluid pb-4 pt-4 body__text_picture" width="5472" height="3648" loading="lazy">
                        </div>

                        <!-- write text below the image-->
                        <div class="col-10">
                            <h3>SFSchedule</h3>
                            <p>Create your own SFU schedule using an interactive schedule builder</p>
                            <!-- uses bootstrap icon to draw out an arrow -->
                            <p>Schedule Now! <i class="bi bi-arrow-right"></i></p>
                        </div>
                    </a>
                </div>

                <!-- Bootstrap class that ensures the column takes the full size of the screen -->
                <!-- Uses all 12 of the grids for small screens, 4 grids for larger-->
                <div class="col-12 col-sm-3 mt-3">
                    <!-- redirect to page (blank) -->
                    <a href="#" class="row text-decoration-none">

                        <!-- create a smaller column for mobile, slightly bigger for larger screns -->
                        <!-- also has bottom margin -->
                        <div class="col-2 col-sm-12 mb-4">
                            <!-- add an image, alternative text, and size of image, and if image is important to render-->
                            <img src="img/map.jpg" alt="Scheduler Image" class="img-fluid pb-4 pt-4 body__text_picture" width="4000" height="2667" loading="lazy">
                        </div>

                        <!-- write text below the image-->
                        <div class="col-10">
                            <h3>SFMaps</h3>
                            <p>Figure out where you want to get lunch after a long morning</p>
                            <!-- uses bootstrap icon to draw out an arrow -->
                            <p>Look Up Now! <i class="bi bi-arrow-right"></i></p>
                        </div>
                    </a>
                </div>

                <!-- Bootstrap class that ensures the column takes the full size of the screen -->
                <!-- Uses all 12 of the grids for small screens, 4 grids for larger-->
                <div class="col-12 col-sm-3 mt-3">
                    <!-- redirect to page (blank) -->
                    <a href="https://sfunited.herokuapp.com/groups" class="row text-decoration-none">

                        <!-- create a smaller column for mobile, slightly bigger for larger screns -->
                        <!-- also has bottom margin -->
                        <div class="col-2 col-sm-12 mb-4">
                            <!-- add an image, alternative text, and size of image, and if image is important to render-->
                            <img src="img/social group.jpg" alt="Scheduler Image" class="img-fluid pb-4 pt-4 body__text_picture" width="3997" height="2665" loading="lazy">
                        </div>

                        <!-- write text below the image-->
                        <div class="col-10">
                            <h3>SFGroups</h3>
                            <p>Find others who share your interests and passions.</p>
                            <!-- uses bootstrap icon to draw out an arrow -->
                            <p>Find Groups Now! <i class="bi bi-arrow-right"></i></p>
                        </div>
                    </a>
                </div>



                <!-- logout button  -->
                <div class="col-12 col-sm-3 mt-3">
                    <!-- redirect to page a logout page which will log the user out -->
                    <a href="https://sfunited.herokuapp.com/logout" class="row text-decoration-none">
                            <!-- create a smaller column for mobile, slightly bigger for larger screns -->
                            <!-- also has bottom margin -->
                            <div class="col-2 col-sm-12 mb-4">
                                <!-- add an image, alternative text, and size of image, and if image is important to render-->
                                <img src="img/logout.jpg" alt="Scheduler Image" class="img-fluid pb-4 pt-4 body__text_picture" width="3997" height="2665" loading="lazy">
                            </div>

                            <!-- write text below the image-->
                            <div class="col-10">
                                <h3>Logout</h3>
                                <p>Sign out of your account. Return to login page</p>
                                <!-- uses bootstrap icon to draw out an arrow -->
                                <p>Sign Out! <i class="bi bi-arrow-right"></i></p>
                            </div>
                    </a>
                </div>
            </div>

            

            <!-- Closes the Menu -->
            <!-- dropdown-nav__closeNavButton is the style-->
            <button class = "navbar-toggler dropdown-nav__closeNavButton" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle-navigation">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </button>


        </div>
    </nav>

    <!-- Menu Bar Navigation End -->






    <!-- Scheduler Starts -->
    <div class="background-colour">
        
        <!-- container for the entire scheduler -->
        <div class="scheduler-container">
            <div class="table__creator">
                <!-- spacer to add a game at the top -->
                <div class="space"></div>
                <div class="time-marker"></div>
                <!-- divide each of the times up by the same space -->
                <div class="time-marker">08:00</div>
                <div class="time-marker">08:30</div>
                <div class="time-marker">09:00</div>
                <div class="time-marker">09:30</div>
                <div class="time-marker">10:00</div>
                <div class="time-marker">10:30</div>
                <div class="time-marker">11:00</div>
                <div class="time-marker">11:30</div>
                <div class="time-marker">12:00</div>
                <div class="time-marker">12:30</div>
                <div class="time-marker">13:00</div>
                <div class="time-marker">13:30</div>
                <div class="time-marker">14:00</div>
                <div class="time-marker">14:30</div>
                <div class="time-marker">15:00</div>
                <div class="time-marker">16:30</div>
                <div class="time-marker">16:00</div>
                <div class="time-marker">16:30</div>
                <div class="time-marker">17:00</div>
                <div class="time-marker">17:30</div>
                <div class="time-marker">18:00</div>
                <div class="time-marker">18:30</div>
                <div class="time-marker">19:00</div>
                <div class="time-marker">19:30</div>
                <div class="time-marker">20:00</div>
            </div>
            <!-- class that divides the entire week -->
            <div class="days__container">
                <!-- monday -->
                <% var i = 0; %>
                <div class="day-mon">
                    <!--  -->
                    <div class="date">
                        <p class="date-day">Mon</p>
                    </div>
                    <!-- events that needs to be changed to include  -->
                    <div class="events">
                        <!-- start and end events are where the times start and end -->
                        <!-- find out how to get an indidual colour -->
                        <% enrolled.forEach(function(e){%>
                            <% var str = e.days %>
                            <%if(str.includes("Mo")){ %>
                                <% if(e.startt.includes(",")) { %>
                                    <% var startSplice = e.startt.split(",");
                                    var endSplice = e.endt.split(","); %>
                                    <div class ="event start-<%=startSplice[0]%> end-<%=endSplice[0]%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=startSplice[0]%> - <%=endSplice[0]%></p>
                                    </div>
                                    <% i++ %>
                                <% }else{%>
                                    
                                    <div class ="event start-<%=e.startt%> end-<%=e.endt%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=e.startt%> - <%=e.endt%></p>
                                    </div>
                                <%}%>
                            <%}%>
                        <%})%>
                    </div>
                </div>

                <!-- tuesday -->
                <div class="day-tues">
                    <!--  -->
                    <div class="date">
                        <p class="date-day">Tues</p>
                    </div>
                    <!-- events that needs to be changed to include  -->
                    <div class="events">
                        <!-- start and end events are where the times start and end -->
                        <% enrolled.forEach(function(e){%>
                            <% var str = e.days %>
                            <%if(str.includes("Tu")){ %>
                                <% if(e.startt.includes(",")) { %>
                                    <% var startSplice = e.startt.split(",");
                                    var endSplice = e.endt.split(",");%>
                                    <div class ="event start-<%=startSplice[0]%> end-<%=endSplice[0]%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=startSplice[0]%> - <%=endSplice[0]%></p>
                                    </div>
                                    <% i++ %>
                                <% }else{%>
                                    
                                    <div class ="event start-<%=e.startt%> end-<%=e.endt%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=e.startt%> - <%=e.endt%></p>
                                    </div>
                                <%}%>
                            <%}%>
                        <%})%>
                    </div>
                </div>

                <!-- wednesday -->
                <div class="day-weds">
                    <!--  -->
                    <div class="date">
                        <p class="date-day">Weds</p>
                    </div>
                    <!-- events that needs to be changed to include  -->
                    <div class="events">
                        <!-- start and end events are where the times start and end -->
                        <% enrolled.forEach(function(e){%>
                            <% var str = e.days %>
                            <%if(str.includes("We")){ %>
                                <% if(e.startt.includes(",")) { %>
                                    <% var startSplice = e.startt.split(",");
                                    var endSplice = e.endt.split(",");%>
                                    <div class ="event start-<%=startSplice[1]%> end-<%=endSplice[1]%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=startSplice[1]%> - <%=endSplice[1]%></p>
                                    </div>
                                    <% i++ %>
                                <% }else{%>
                                    
                                    <div class ="event start-<%=e.startt%> end-<%=e.endt%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=e.startt%> - <%=e.endt%></p>
                                    </div>
                                <%}%>
                            <%}%>
                        <%})%>
                    </div>
                </div>

                <!-- thursday -->
                <div class="day-thurs">
                    <!--  -->
                    <div class="date">
                        <p class="date-day">Thurs</p>
                    </div>
                    <!-- events that needs to be changed to include  -->
                    <div class="events">
                        <!-- start and end events are where the times start and end -->
                        <% enrolled.forEach(function(e){%>
                            <% var str = e.days %>
                            <%if(str.includes("Th")){ %>
                                <% if(e.startt.includes(",")) { %>
                                    <% var startSplice = e.startt.split(",");
                                    var endSplice = e.endt.split(",");%>
                                    <div class ="event start-<%=startSplice[1]%> end-<%=endSplice[1]%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=startSplice[1]%> - <%=endSplice[1]%></p>
                                    </div>
                                    <% i++ %>
                                <% }else{%>
                                    
                                    <div class ="event start-<%=e.startt%> end-<%=e.endt%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=e.startt%> - <%=e.endt%></p>
                                    </div>
                                <%}%>
                            <%}%>
                        <%})%>
                    </div>
                </div>

                <!-- Friday -->
                <div class="day-fri">
                    <!--  -->
                    <div class="date">
                        <p class="date-day">Fri</p>
                    </div>
                    <!-- events that needs to be changed to include  -->
                    <div class="events">
                        <!-- start and end events are where the times start and end -->
                        <% enrolled.forEach(function(e){%>
                            <% var str = e.days %>
                            <%if(str.includes("Fr")){ %>
                                <% if(e.startt.includes(",")) { %>
                                    <% var startSplice = e.startt.split(",");
                                    var endSplice = e.endt.split(",");%>
                                    <div class ="event start-<%=startSplice[1]%> end-<%=endSplice[1]%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=startSplice[1]%> - <%=endSplice[1]%></p>
                                    </div>
                                    <% i++ %>
                                <% }else{%>
                                    
                                    <div class ="event start-<%=e.startt%> end-<%=e.endt%> eColor">
                                        <p class="title"><%=e.course%></p>
                                        <p class = "time"><%=e.startt%> - <%=e.endt%></p>
                                    </div>
                                <%}%>
                            <%}%>
                        <%})%>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Scheduler End -->



    <!-- Body Text Start (Classes) -->
    <section class="body container_body">
        <div class="row">
            <!-- style="background-color:#fafaa3 for only this section of the grid -->
            <!-- assign the  -->
            <div class="col-12 col-md-4 d-md-flex justify-content-md-center h-auto p-2 order-sm-1">
                <!-- the text box that finds the prof for the user -->
                <form action = '/schedule' method = 'POST' class="border border-dark rounded w-100 p-5" style="background-color:#73c5bc">

                    <div class="text-center">
                        <p class="h4 mb-4 fw-bold">Enroll into a Class!</p>
                        <p class=fw-bold>Find your prefered professor! Select between multiple professors and times!</p>
                        <p>
                            <a href="https://www.sfu.ca/students/calendar/2022/fall/courses.html" class="fw-bold">View all the courses!<i class="bi bi-caret-right-fill"></i></a>
                        </p>
                    </div>

                    <label>Course Name</label>
                    <input type="text"  class="prof form-control mb-4" placeholder="Course (e.g., CMPT120)" name="fcourse">
                
                    <input type="submit" class="btn btn-info btn-block" value="Submit">

                    <div class="popUpContainer">
                        <div class="popUp" id="popup" name="f_popup">
                            <h2>
                                <%if(flag == 3){%>
                                    <%= "Confirmed" %>
                                <%} else{%>
                                    <%= "Sorry!" %>
                                <%}%>
                            </h2>
                            <p>
                                <%if(flag == 3){%>
                                    <%= "Removed course from schedule." %>
                                <%} else if(flag == 1){%>
                                    <%= "Invalid Input: Boxes Left Unfilled." %>
                                <%} else if(flag == 2){%>
                                    <%= "Invalid Courses: Conflicting Time." %>
                                <%}%>
                            </p>
                            <button type="button" style="color:black; 
                                font-weight:700; 
                                width:70%; 
                                margin-top:4%; 
                                border:1px solid gray; 
                                border-radius: 40px; background-color: white;" class="btn btn-light
                                font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                OK
                            <button>
                        </div>
                    </div>
                    
                </form>
            </div>


            <!-- text to display after the prof is found -->
            <!-- align-self-center justify-content-md-center -->
            <div class="col-12 col-md-8 d-md-flex justify-content-md-center h-auto p-2" >
                <!-- just for the formatting -->
                <form action = '' method = '' class="border border-dark rounded w-100 p-5" style="background-color:#23ef8f64">
                    <div class="mb-8 p-1">

                    <!-- Currently enrolled classes -->
                    <h1 class="h2 display-6 mb-4 fw-bolder row justify-content-center">Currently enrolled courses</h1>
                    <p><strong>View your currently enrolled courses! Add Courses as well as remove courses. Choose your prefered timeslot and automatically add to the scheduler! </strong></p>
                    <% enrolled.forEach(function(e){%>
                        <%if(e.startt.includes(",")){%>
                            <% var startSplice = e.startt.split(",");
                                var endSplice = e.endt.split(",");
                                var daySplice = e.days.split(",");%>
                                <div>
                                    <h4 class="mb-4 fw-bold text-danger"><%=e.course%></h4>
                                    <p class="lead">
                                        <strong>
                                            <b>Location: </b><%=e.location%>,
                                            <b>Days: </b> <%=daySplice[0]%>, <%=daySplice[1]%>
                                            <b>Time: </b> <%=startSplice[0]%> - <%=endSplice[0]%>, <%=startSplice[1]%> - <%=endSplice[1]%>
                                        </strong>
                                    </p>
                                </div>
                        <%}else{%>
                            <div>
                                <h4 class="mb-4 fw-bold text-danger"><%=e.course%></h4>
                                <p class="lead">
                                    <strong>
                                        <b>Location: </b><%=e.location%>,
                                        <b>Days: </b> <%=e.days%>, 
                                        <b>Time: </b> <%=e.startt%> - <%=e.endt%>
                                    </strong>
                                </p>
                            </div>
                        <%}%>
                    <%})%>
                </form>

                <!-- For adding new classes -->
                <% if (classes.length > 0) { %>
                    <% classes.forEach(function(c){%>

                        <% if(c.desc !=null){%>
                            <!-- for the description -->
                            <h4 class="fw-lighter p-3"><%= c.desc%></h4>
                            <%if(c.prereq !=''){%>
                                <p><b>Prerequisite:</b> <%= c.prereq%></p>
                            <%}%>
                            <%if(c.notes!=''){%>
                                <p><b>Notes:</b> <%= c.notes%></p>
                            <%}%>
                        <%}else{%>
                            <% if(c.start.includes(",")) {%>
                            <% var startSplice = c.start.split(",");
                                var endSplice = c.end.split(",");
                                var daySplice = c.days.split(",");%>
                            <form action = '/enroll' method = 'POST'>
                                <p class="lead"><strong><b><%=c.name.trim()%></b>, <%=daySplice[0]%> <%=startSplice[0]%>-<%=endSplice[0]%>, <%=daySplice[1]%> <%=startSplice[1]%>-<%=endSplice[1]%></b></strong></p>
                                <p class="lead">
                                    <strong>
                                        <b>Location: </b><%=c.campus%>: <%=c.room%> <%=c.roomNum%>
                                        <b>Prof: </b> <%=c.prof%>, 
                                    </strong>
                                </p>

                                <input type="hidden" name="fname" value="<%=c.name.trim()%>"></input>
                                <input type="hidden" name="fcampus" value=<%=c.campus%>></input>
                                <input type="hidden" name="fprofessor" value="<%=c.prof%>"></input>
                                <input type="hidden" name="fdays" value="<%=c.days%>"></input>
                                <input type="hidden" name="fstart" value=<%=c.start%>></input>
                                <input type="hidden" name="fend" value=<%=c.end%>></input>
                                <input type="submit" class="btn btn-info btn-block" value="Enroll">
                                <div class="popUpContainer">
                                    <div class="popUp" id="popup" name="f_popup">
                                        <h2>
                                            <%if(flag == 3){%>
                                                <%= "Confirmed" %>
                                            <%} else{%>
                                                <%= "Sorry!" %>
                                            <%}%>
                                        </h2>
                                        <p>
                                            <%if(flag == 3){%>
                                                <%= "Removed course from schedule." %>
                                            <%} else if(flag == 1){%>
                                                <%= "Invalid Input: Boxes Left Unfilled." %>
                                            <%} else if(flag == 2){%>
                                                <%= "Invalid Courses: Conflicting Time." %>
                                            <%}%>
                                        </p>
                                        <button type="button" style="color:black; 
                                            font-weight:700; 
                                            width:70%; 
                                            margin-top:4%; 
                                            border:1px solid gray; 
                                            border-radius: 40px; background-color: white;" class="btn btn-light
                                            font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                            OK
                                            <button>
                                    </div>
                                </div>
                            </form>
                            <% } else{%>
                                <form action = '/enroll' method = 'POST'>
                                    <p class="lead"><strong><b><%=c.name.trim()%></b>, <%=c.days%>, <%=c.start%>-<%=c.end%></b></strong></p>
                                    <p class="lead">
                                        <strong>
                                            <b>Location: </b><%=c.campus%>: <%=c.room%> <%=c.roomNum%>
                                            <b>Prof: </b> <%=c.prof%>, 
                                        </strong>
                                    </p>
                                    <input type="hidden" name="fname" value="<%=c.name.trim()%>"></input>
                                    <input type="hidden" name="fcampus" value=<%=c.campus%>></input>
                                    <input type="hidden" name="fprofessor" value="<%=c.prof%>"></input>
                                    <input type="hidden" name="fdays" value="<%=c.days%>"></input>
                                    <input type="hidden" name="fstart" value=<%=c.start%>></input>
                                    <input type="hidden" name="fend" value=<%=c.end%>></input>
                                    <input type="submit" class="btn btn-info btn-block" value="Enroll">
                                    <div class="popUpContainer">
                                        <div class="popUp" id="popup" name="f_popup">
                                            <h2>
                                                <%if(flag == 3){%>
                                                    <%= "Confirmed" %>
                                                <%} else{%>
                                                    <%= "Sorry!" %>
                                                <%}%>
                                            </h2>
                                            <p>
                                                <%if(flag == 3){%>
                                                    <%= "Removed course from schedule." %>
                                                <%} else if(flag == 1){%>
                                                    <%= "Invalid Input: Boxes Left Unfilled." %>
                                                <%} else if(flag == 2){%>
                                                    <%= "Invalid Courses: Conflicting Time." %>
                                                <%}%>
                                            </p>
                                            <button type="button" style="color:black; 
                                                font-weight:700; 
                                                width:70%; 
                                                margin-top:4%; 
                                                border:1px solid gray; 
                                                border-radius: 40px; background-color: white;" class="btn btn-light
                                                font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                                OK
                                                <button>
                                        </div>
                                    </div>
                                </form>
                            <%}%>
                        <%}%>
                    <%})%>
                <%}%>

            </div>
        </div>
    </section>
    <!-- Body Text End (Classes) -->

    <!-- Body Text Start (REMOVE CLASSES) -->
    <section class="body container_body">
        <div class="row">
            <div class="col-12 col-md-12 d-md-flex justify-content-md-center h-auto p-3">
                <% enrolled.forEach(function(e){%>
                    <%if(e.startt.includes(",")){%>
                        <% var startSplice = e.startt.split(",");
                            var endSplice = e.endt.split(",");
                            var daySplice = e.days.split(",");%>
                        <form action = '/delete' method = 'POST' class="border border-dark rounded w-100" style="background-color:#23efef64">
                            <div class="mb-8 p-1">
                            <!-- Currently enrolled classes -->
                                    <h4 class="mb-4 fw-bold text-danger"><%=e.course%></h4>
                                    <p class="lead">
                                        <strong>
                                            <b>Location: </b><%=e.location%>,
                                            <b>Days: </b> <%=daySplice[0]%>, <%=daySplice[1]%>
                                            <b>Time: </b> <%=startSplice[0]%> - <%=endSplice[0]%>, <%=startSplice[1]%> - <%=endSplice[1]%>
                                        </strong>
                                    </p>
                                    <input type="submit" class="btn btn-info btn-block" value ="Remove Class">
                                    <div class="popUpContainer">
                                        <div class="popUp" id="popup" name="f_popup">
                                            <h2>
                                                <%if(flag == 3){%>
                                                    <%= "Confirmed" %>
                                                <%} else{%>
                                                    <%= "Sorry!" %>
                                                <%}%>
                                            </h2>
                                            <p>
                                                <%if(flag == 3){%>
                                                    <%= "Removed course from schedule." %>
                                                <%} else if(flag == 1){%>
                                                    <%= "Invalid Input: Boxes Left Unfilled." %>
                                                <%} else if(flag == 2){%>
                                                    <%= "Invalid Courses: Conflicting Time." %>
                                                <%}%>
                                            </p>
                                            <button type="button" style="color:black; 
                                                font-weight:700; 
                                                width:70%; 
                                                margin-top:4%; 
                                                border:1px solid gray; 
                                                border-radius: 40px; background-color: white;" class="btn btn-light
                                                font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                                OK
                                                <button>
                                        </div>
                                    </div>
                                    <input type="hidden" name="fcourse" value="<%=e.course%>"></input>
                                    <p></p>
                            <!-- DO NOT ADD THE /DIV HERE-->
                            <!-- LITERALLY MAKES IT LOOK WORSE IDK WHAT IS HAPPENING?? -->
                        </form>
                    <%}else{%>
                        <form action = '/delete' method = 'POST' class="border border-dark rounded w-100" style="background-color:#23efef64">
                            <div class="mb-8 p-1">
                            <!-- Currently enrolled classes -->
                                    <h4 class="mb-4 fw-bold text-danger"><%=e.course%></h4>
                                    <p class="lead">
                                        <strong>
                                            <b>Location: </b><%=e.location%>,
                                            <b>Days: </b> <%=e.days%>, 
                                            <b>Time: </b> <%=e.startt%> - <%=e.endt%>
                                        </strong>
                                    </p>
                                    <input type="submit" class="btn btn-info btn-block" value ="Remove Class">
                                    <input type="hidden" name="fcourse" value="<%=e.course%>"></input>
                                    <p></p>
                            <!-- DO NOT ADD THE /DIV HERE-->
                            <!-- LITERALLY MAKES IT LOOK WORSE IDK WHAT IS HAPPENING?? -->
                        </form>
                    <%}%>
                <%})%>
            </div>
        </div>
    </section>
    <!-- Body Text End (REMOVE CLASSES) -->




    <!-- Body Text Start (RATE MY PROF) -->
    <!-- body__background_colour -->
    <!-- set background colour, fix form, and have it all print on the right side of the grid-->
    <section class="body container_body">
        <div class="row">
            <!-- style="background-color:#fafaa3 for only this section of the grid -->
            <!-- assign the  -->
            <div class="col-12 col-md-4 d-md-flex justify-content-md-center h-auto p-2">
                <!-- the text box that finds the prof for the user -->
                <form action = '/schedule' method = 'POST' class="border border-dark rounded w-100 p-5" style="background-color:#73c5bc">
                    <div class="text-center">
                        <p class="h4 mb-4 fw-bold">Find Your Professor!</p>
                        <p class=fw-bold>Find the scores of your professor! Uses Rate My Prof for scores!</p>
                        <p>
                            <a href="https://www.ratemyprofessors.com/" class="fw-bold">Visit the original site!<i class="bi bi-caret-right-fill"></i></a>
                        </p>
                    </div>

                    <label for="prof-name">Professor Name!</label>
                    <input type="text" class="prof form-control mb-4" placeholder="e.g (Bobby Chan)" name="fname">
                
                    <label for="class-code">Subject Code</label>
                    <input type="text" class="prof form-control mb-4" placeholder="e.g (CMPT)" name="subj">
                
                    <input type="submit" class="btn btn-info btn-block" value="Submit">
                    <div class="popUpContainer">
                        <div class="popUp" id="popup" name="f_popup">
                            <h2>
                                <%if(flag == 3){%>
                                    <%= "Confirmed" %>
                                <%} else{%>
                                    <%= "Sorry!" %>
                                <%}%>
                            </h2>
                            <p>
                                <%if(flag == 3){%>
                                    <%= "Removed course from schedule." %>
                                <%} else if(flag == 1){%>
                                    <%= "Invalid Input: Boxes Left Unfilled." %>
                                <%} else if(flag == 2){%>
                                    <%= "Invalid Courses: Conflicting Time." %>
                                <%}%>
                            </p>
                            <button type="button" style="color:black; 
                                font-weight:700; 
                                width:70%; 
                                margin-top:4%; 
                                border:1px solid gray; 
                                border-radius: 40px; background-color: white;" class="btn btn-light
                                font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                OK
                            <button>
                        </div>
                    </div>
                </form>
            </div>


            <!-- text to display after the prof is found -->
            <!-- align-self-center justify-content-md-center -->
            <div class="col-12 col-md-8 d-md-flex justify-content-md-center p-2 h-auto" >
                <!-- just for the formatting -->
                <form action = '/schedule' method = 'POST' class="border border-dark rounded w-100 p-5" style="background-color:#23ef8f64">
                    <div class="mb-8 p-1">
                        <% if (results.length > 0) { %>
                            <% results.forEach(function(r){%>
                                <% if(r.fname !=null){%>
                                    <h1 class="h2 display-6 mb-4 fw-bolder row justify-content-center"><%= r.fname %> <%= r.lname %> </h1>
                                    <h2 class="mb-4 fw-bold text-danger">Average rating: <%= r.r %>/5</h2>
                                <%}else{%>
                                    <% if(r.grade != ''){ %>
                                        <h4 class="mb-4 fw-bold"><%= r.class %> <%= r.rating %>/5 (<%= r.grade%>)</h4>
                                        <p class="lead"><strong><%= r.comment %></strong></p>
                                    <% }else{ %>
                                        <h4 class="mb-4 fw-bold"><%= r.class %> <%= r.rating %>/5 (N/A)</h4>
                                        <p class="lead"><strong><%= r.comment %></strong></p>
                                    <% } %>
                                <%}%>
                            <%}) %>
                        <% } %>
                    </div>
                    <div class="popUpContainer">
                        <div class="popUp" id="popup" name="f_popup">
                            <h2>
                                <%if(flag == 3){%>
                                    <%= "Confirmed" %>
                                <%} else{%>
                                    <%= "Sorry!" %>
                                <%}%>
                            </h2>
                            <p>
                                <%if(flag == 3){%>
                                    <%= "Removed course from schedule." %>
                                <%} else if(flag == 1){%>
                                    <%= "Invalid Input: Boxes Left Unfilled." %>
                                <%} else if(flag == 2){%>
                                    <%= "Invalid Courses: Conflicting Time." %>
                                <%}%>
                            </p>
                            <button type="button" style="color:black; 
                                font-weight:700; 
                                width:70%; 
                                margin-top:4%; 
                                border:1px solid gray; 
                                border-radius: 40px; background-color: white;" class="btn btn-light
                                font-family: Arial, Helvetica, sans-serif;" onclick="closePopup()">
                                OK
                            <button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>
    <!-- Body Text End (RATE MY PROF) -->



    <!-- Footer Section Start -->
    <!-- footer has dark background with white text -->
    <footer class="footer bg-dark text-white">
        <!-- clear the center space and only take up the left and right edges of the grid (justify-between)-->
        <!-- set padding top and bottom by 3 and higher the border of the grid -->
        <div class="container_footer d-flex justify-content-between align-items-center py-3 border_highlight">

            <!-- Logo button in footer -->
            <div class="col-md-4 d-flex align-items-center">
                <!-- text-muted affects the colour of the text to be a muted colour -->
                <a href="#" class="text-muted text-decoration-none">
                    <!-- umbrella icon beside the Footer Name -->
                    <i class="bi bi-umbrella-fill"></i>
                    <!-- span causes the text to not warp when small -->
                    <!-- idk why, <p><p> does not work -->
                    <span>2022 SFUnited</span>
                </a>
            </div>

            <!-- ensures that the icons are on the right hand side -->
            <ul class="nav col-md-4 d-flex justify-content-end">
                <li>
                    <!-- github link that redirects to github page -->
                    <a href="https://github.com/seanyoon814/SFUnited" class="text-muted"d><i class="bi bi-github"></i></a>
                </li>
            </ul>
        </div>
    </footer>
    <!-- Footer Section End -->
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        // When the user clicks on <div>, open the popup
        let popup = document.getElementById("popup");
        function openPopup() {
            popup.classList.add("openPopup");
        }
        var boolPopup = <%=flag%>;
        if (boolPopup == 1 || boolPopup == 2 || boolPopup == 3) {
            openPopup();
        }
        function closePopup() {
            popup.classList.remove("openPopup");
        }

    </script>
</body>
</html>